/* Variables pour personnaliser l'effet */
:host {
  --glitch-color-1: #ff00c1; /* Rose/Rouge cyberpunk */
  --glitch-color-2: #00fff9; /* Bleu cyan cyberpunk */
  --bg-color: #050a0e; /* Noir profond */
}

/* Conteneur plein écran fixe */
.loading-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: var(--bg-color);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 99999; /* Toujours au-dessus de tout */
}

/* Le texte principal */
.glitch {
  position: relative;
  color: white;
  /* On s'assure que le texte est bien centré */
  display: inline-block;
}

/* Création des 2 couches fantômes (pseudo-éléments) */
.glitch::before,
.glitch::after {
  content: attr(data-text); /* Récupère le texte du HTML */
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--bg-color); /* Important : masque le texte principal par moments */
}

/* Couche 1 : Décalage vers la gauche et couleur 1 */
.glitch::before {
  left: 2px;
  text-shadow: -2px 0 var(--glitch-color-1);
  /* clip-path crée des découpes aléatoires */
  clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  animation: glitch-anim-1 2s infinite linear alternate-reverse;
}

/* Couche 2 : Décalage vers la droite et couleur 2 */
.glitch::after {
  left: -2px;
  text-shadow: -2px 0 var(--glitch-color-2);
  clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  animation: glitch-anim-2 3s infinite linear alternate-reverse;
}

/* Petit curseur clignotant */
.blinking-cursor {
  animation: blink 1s step-end infinite;
}
@keyframes blink { 50% { opacity: 0; } }

/* --- KEYFRAMES COMPLEXES POUR L'EFFET DE DÉCOUPE --- */
/* Ces animations définissent comment le texte est "haché" */
@keyframes glitch-anim-1 {
  0% { clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%); transform: translate(-2px); }
  20% { clip-path: polygon(0 15%, 100% 15%, 100% 15%, 0 15%); transform: translate(-2px); }
  30% { clip-path: polygon(0 10%, 100% 10%, 100% 20%, 0 20%); transform: translate(2px); }
  40% { clip-path: polygon(0 1%, 100% 1%, 100% 2%, 0 2%); transform: translate(-2px); }
  50% { clip-path: polygon(0 33%, 100% 33%, 100% 33%, 0 33%); transform: translate(0); }
  55% { clip-path: polygon(0 44%, 100% 44%, 100% 44%, 0 44%); transform: translate(0); }
  60% { clip-path: polygon(0 50%, 100% 50%, 100% 20%, 0 20%); transform: translate(2px); }
  70% { clip-path: polygon(0 70%, 100% 70%, 100% 70%, 0 70%); transform: translate(-2px); }
  80% { clip-path: polygon(0 80%, 100% 80%, 100% 80%, 0 80%); transform: translate(2px); }
  90% { clip-path: polygon(0 50%, 100% 50%, 100% 55%, 0 55%); transform: translate(0); }
  100% { clip-path: polygon(0 70%, 100% 70%, 100% 80%, 0 80%); transform: translate(-2px); }
}

@keyframes glitch-anim-2 {
  0% { clip-path: polygon(0 25%, 100% 25%, 100% 30%, 0 30%); transform: translate(2px); }
  10% { clip-path: polygon(0 3%, 100% 3%, 100% 3%, 0 3%); transform: translate(2px); }
  15% { clip-path: polygon(0 5%, 100% 5%, 100% 20%, 0 20%); transform: translate(-2px); }
  20% { clip-path: polygon(0 20%, 100% 20%, 100% 20%, 0 20%); transform: translate(0); }
  40% { clip-path: polygon(0 40%, 100% 40%, 100% 40%, 0 40%); transform: translate(2px); }
  50% { clip-path: polygon(0 52%, 100% 52%, 100% 59%, 0 59%); transform: translate(-2px); }
  60% { clip-path: polygon(0 60%, 100% 60%, 100% 60%, 0 60%); transform: translate(0); }
  70% { clip-path: polygon(0 75%, 100% 75%, 100% 75%, 0 75%); transform: translate(2px); }
  80% { clip-path: polygon(0 83%, 100% 83%, 100% 85%, 0 85%); transform: translate(-2px); }
  90% { clip-path: polygon(0 90%, 100% 90%, 100% 92%, 0 92%); transform: translate(2px); }
  100% { clip-path: polygon(0 98%, 100% 98%, 100% 99%, 0 99%); transform: translate(0); }
}