<div class="min-h-screen bg-transparent flex items-center justify-center p-4 md:p-8">
  
  <div class="w-full max-w-6xl border border-geek-dim-green rounded-sm bg-transparent shadow-[0_0_20px_rgba(0,255,65,0.1)] overflow-hidden font-mono flex flex-col min-h-[600px]">
    
    <div class="bg-[#0f1115] px-4 py-2 flex items-center justify-between border-b border-geek-dim-green select-none">
      <div class="flex items-center gap-4">
        <div class="flex space-x-2">
          <div class="w-3 h-3 rounded-full bg-red-500/80"></div>
          <div class="w-3 h-3 rounded-full bg-yellow-500/80"></div>
          <div class="w-3 h-3 rounded-full bg-green-500/80"></div>
        </div>
        <span class="text-xs text-gray-500">/bin/bash — user@portfolio — 80x24</span>
      </div>
      <div class="text-xs text-geek-dim-green animate-pulse">CONNECTION_SECURE</div>
    </div>

    <div class="flex-grow grid grid-cols-1 lg:grid-cols-12 gap-0">

      <div class="bg-[#050505] col-span-1 lg:col-span-7 p-8 flex flex-col relative border-b lg:border-b-0 lg:border-r border-geek-dim-green/30">
        
        <div class="mb-6 text-sm opacity-70 font-light space-y-1 text-geek-green/60">
          <p>> systemctl start portfolio.service</p>
          <p>> allocating memory... <span class="text-white">OK</span></p>
          <p>> loading assets... <span class="text-white">DONE</span></p>
          <p class="text-geek-green">> establishing session...</p>
        </div>

        @if (user(); as profile) {
          <div class="mt-4 flex-grow z-10">
            <div class="mb-4">
              <span class="text-geek-dim-green">root@{{profile.username}}:</span><span class="text-white">~</span>$ ./init_profile.sh
            </div>
            
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight shadow-green">
              {{ profile.first_name }} {{ profile.last_name }}
            </h1>
            
            <div class="text-lg md:text-xl text-geek-green h-24 font-light leading-relaxed">
              > {{ typedText() }}<span class="animate-pulse bg-geek-green text-black px-1" [class.hidden]="!isCursorBlinking()">_</span>
            </div>

            <div class="mt-10 flex flex-wrap gap-4">
              <a routerLink="/projets" class="group relative px-6 py-3 bg-geek-green/10 border border-geek-green text-geek-green hover:bg-geek-green hover:text-black transition-all duration-300 font-bold tracking-wider">
                <span class="absolute top-0 left-0 w-1 h-1 bg-white group-hover:bg-black transition-colors"></span>
                <span class="absolute bottom-0 right-0 w-1 h-1 bg-white group-hover:bg-black transition-colors"></span>
                [ EXECUTE_PROJECTS ]
              </a>
              
              <a [href]="transformDriveLink(profile.lien_cv)" 
                target="_blank" 
                class="px-6 py-3 border border-gray-600 text-gray-400 hover:text-white hover:border-white transition-all duration-300 flex items-center gap-2">
                <span>↓</span> DOWNLOAD_DATA.CV
              </a>
            </div>
          </div>
        } @else {
          <div class="flex-grow flex items-center justify-center">
             <p class="animate-pulse text-geek-green">> Waiting for signal...</p>
          </div>
        }
        
        <div class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"></div>
      </div>

      <div class="col-span-1 lg:col-span-5 bg-[#050505]/80 backdrop-blur-md p-8 flex flex-col items-center justify-center relative overflow-hidden">
        
        @if (user(); as profile) {
          <div class="relative w-64 h-64 md:w-80 md:h-80 group">
            
            <div class="absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-geek-green z-20"></div>
            <div class="absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-geek-green z-20"></div>
            <div class="absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-geek-green z-20"></div>
            <div class="absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-geek-green z-20"></div>

            <div class="w-full h-full overflow-hidden grayscale contrast-125 brightness-90 group-hover:grayscale-0 transition-all duration-700 relative">
               @if (profile.photo_profil) {
                  <img [src]="getDriveImage(user()?.photo_profil)" referrerpolicy="no-referrer" alt="Avatar" class=" profile-glow w-full h-full object-cover opacity-80 group-hover:opacity-100">
               } @else {
                  <div class="w-full h-full bg-geek-gray flex items-center justify-center border border-gray-800">
                    <span class="text-4xl text-gray-700">?</span>
                  </div>
               }
               
               <div class="absolute inset-0 bg-gradient-to-b from-transparent via-geek-green/20 to-transparent h-[10%] w-full animate-scan pointer-events-none"></div>
            </div>
          </div>

          <div class="mt-8 w-full max-w-xs space-y-2 font-mono text-xs">
            <div class="flex justify-between text-gray-500 border-b border-gray-800 pb-1">
              <span>STATUS:</span>
              <span class="text-geek-green">ONLINE</span>
            </div>
            <div class="flex justify-between text-gray-500 border-b border-gray-800 pb-1">
              <span>ROLE:</span>
              <span class="text-white">{{ profile.description ? (profile.description | slice:0:20) : 'DEV' }}...</span>
            </div>
            <div class="flex justify-between text-gray-500 pb-1">
              <span>UPTIME:</span>
              <span class="text-geek-green">99.9%</span>
            </div>
          </div>

        }
      </div>

    </div>
  </div>
</div>